function Create(url) {
    Load(1);
    $.ajax({
        url: url,
        beforeSend: function (){
          Load(1);
        },           
        success: function(response) {
            $('body').removeClass('modal-open');
            $('.modal-backdrop').remove();
            $('body').css('padding-right',0); 
            $("#response").html(response);
            $("#modal_create").modal("show");              
            Load(0);
        },
        error: function(jqxhr, textStatus, errorThrown) {
            console.log(jqxhr.responseJSON);
            Alerta("error", " Error: " + errorThrown + " Status:" + jqxhr.status );
        }
    });	  
}

function Edit(url) {
    Load(1);
    $.ajax({
        url: url,
        beforeSend: function (){
          Load(1);
        },           
        success: function(response) {
            $('body').removeClass('modal-open');
            $('.modal-backdrop').remove();
            $('body').css('padding-right',0); 
            $("#response").html(response);
            $("#modal_edit").modal("show");              
            Load(0);
        },
        error: function(jqxhr, textStatus, errorThrown) {
            console.log(jqxhr.responseJSON);
            Alerta("error", " Error: " + errorThrown + " Status:" + jqxhr.status );
        }
    });	  
}

function Delete(url) {
    Load(1);
    $.ajax({
        url: url,
        beforeSend: function (){
          Load(1);
        },           
        success: function(response) {
                $('body').removeClass('modal-open');
                $('.modal-backdrop').remove();
                $('body').css('padding-right',0); 
                $("#response").html(response);
                $("#modal_delete").modal("show");              
                Load(0);
        },
        error: function(jqxhr, textStatus, errorThrown) {
            console.log(jqxhr.responseJSON);
            Alerta("error", " Error: " + errorThrown + " Status:" + jqxhr.status );
        }
    });	  
}

function Alerta(type = null, message) {
    const Toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: false,
        timer: 3000
    });
    if(type == 'success'){
        toastr.success(message);
    }else if(type == 'info'){
        toastr.info(message);
    }else if(type == 'error'){
        toastr.error(message);
    }else if(type == 'warning'){
        toastr.warning(message);
    }else{
        Toast.fire({
            type: 'question',
            title: message
        });    
    }
}


function Mayuscula(input){
    var text = input.value;
    input.value = text.toUpperCase();
}

function Minuscula(input){
    var text = input.value;
    input.value = text.toLowerCase();
}

function Load(id){
    if(id == 1){
      $(".jm-loadingpage").fadeIn("slow");
    }else{
      $(".jm-loadingpage").fadeOut("slow");
    }    
}
  